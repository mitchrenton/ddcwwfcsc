/* ==========================================================================
   Gallery block — grid + lightbox
   ========================================================================== */

/* ── Grid ── */

.ddcwwfcsc-gallery {
	display: grid;
	gap: 6px;
	list-style: none;
	margin: 0;
	padding: 0;
}

.ddcwwfcsc-gallery--cols-2 { grid-template-columns: repeat(2, 1fr); }
.ddcwwfcsc-gallery--cols-3 { grid-template-columns: repeat(3, 1fr); }
.ddcwwfcsc-gallery--cols-4 { grid-template-columns: repeat(4, 1fr); }

.ddcwwfcsc-gallery__item {
	margin: 0;
	overflow: hidden;
	border-radius: 4px;
}

.ddcwwfcsc-gallery__link {
	display: block;
	aspect-ratio: 1 / 1;
	overflow: hidden;
	border-radius: 4px;
	outline-offset: 2px;
}

.ddcwwfcsc-gallery__img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
	transition: transform 0.3s ease, opacity 0.2s;
}

.ddcwwfcsc-gallery__link:hover .ddcwwfcsc-gallery__img,
.ddcwwfcsc-gallery__link:focus-visible .ddcwwfcsc-gallery__img {
	transform: scale(1.05);
}

.ddcwwfcsc-gallery__caption {
	font-size: 0.8125rem;
	text-align: center;
	padding: 4px 2px 0;
	margin: 0;
	color: #666;
}

[data-theme="dark"] .ddcwwfcsc-gallery__caption {
	color: #aaa;
}

/* Stack to 2 columns on small screens */
@media (max-width: 600px) {
	.ddcwwfcsc-gallery--cols-3,
	.ddcwwfcsc-gallery--cols-4 {
		grid-template-columns: repeat(2, 1fr);
	}
}

/* ── Lightbox ── */

.ddcwwfcsc-lightbox {
	padding: 0;
	border: 0;
	margin: 0;
	background: transparent;
	width: 100vw;
	height: 100vh;
	max-width: 100vw;
	max-height: 100vh;
	overflow: hidden;
}

.ddcwwfcsc-lightbox::backdrop {
	background: rgba(0, 0, 0, 0.92);
}

.ddcwwfcsc-lightbox__inner {
	width: 100%;
	height: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 24px 80px;
	box-sizing: border-box;
	gap: 10px;
}

.ddcwwfcsc-lightbox__img {
	max-width: 100%;
	max-height: calc(100vh - 100px);
	object-fit: contain;
	border-radius: 2px;
	display: block;
}

.ddcwwfcsc-lightbox__caption {
	color: rgba(255, 255, 255, 0.75);
	font-size: 0.875rem;
	margin: 0;
	text-align: center;
	max-width: 60ch;
}

.ddcwwfcsc-lightbox__counter {
	color: rgba(255, 255, 255, 0.5);
	font-size: 0.8125rem;
	margin: 0;
}

/* Control buttons */

.ddcwwfcsc-lightbox__close,
.ddcwwfcsc-lightbox__nav {
	position: fixed;
	background: rgba(255, 255, 255, 0.12);
	border: none;
	border-radius: 50%;
	cursor: pointer;
	color: #fff;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: background 0.2s;
	z-index: 1;
	padding: 0;
}

.ddcwwfcsc-lightbox__close:hover,
.ddcwwfcsc-lightbox__nav:hover {
	background: rgba(255, 255, 255, 0.28);
}

.ddcwwfcsc-lightbox__close {
	top: 16px;
	right: 16px;
	width: 40px;
	height: 40px;
}

.ddcwwfcsc-lightbox__prev {
	left: 16px;
	top: 50%;
	transform: translateY(-50%);
	width: 48px;
	height: 48px;
}

.ddcwwfcsc-lightbox__next {
	right: 16px;
	top: 50%;
	transform: translateY(-50%);
	width: 48px;
	height: 48px;
}

@media (max-width: 600px) {
	.ddcwwfcsc-lightbox__inner {
		padding: 16px 56px;
	}

	.ddcwwfcsc-lightbox__prev { left: 8px; }
	.ddcwwfcsc-lightbox__next { right: 8px; }

	.ddcwwfcsc-lightbox__prev,
	.ddcwwfcsc-lightbox__next {
		width: 40px;
		height: 40px;
	}
}
